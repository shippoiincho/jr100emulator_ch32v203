# JR-100 エミュレータ for CH32V203

中華マイコン CH32V203C8T6 用 JR-100 エミュレータです。
以下の機能を実装しています。

- MB8861 CPU
- 16KB RAM
- VRAM (+PCG)
- サウンド(手抜き)
- キーボード(USART経由)

以下の機能は未実装です

- カセット制御

たぶん、SAVE とか打つとそのまま固まります。

- 割り込み

タイマー割り込みを使うようなプログラムは動きません。

- リアルタイムキー入力

USBキーボード対応と思っていたのですが、メモリが足らないのでPS/2で実装するかも？

---
jr100rom.h には JR-100 実機の ROM (8KB) が必要です。
---

CPU のエミュレーションには MAME のコードを流用しています。
ビデオ出力は CH32V003 の時と同じコードを使っています。
サウンドは、6522 の単純エミュレーションでは綺麗な音にならなかったので、
CH32V203 のタイマー出力に焼き直しています。
そのため、完全なエミュレーションにはなっていません。<br>

シリアルポート(USART2) からキー入力を受け付けます。
特殊文字とかグラフィック記号は未対応です。
Teraterm から送るときは、ディレイに 120ms くらいを設定してください。<br>

RAMで16KB、VRAMで1KB 使っているので、スタックサイズを 2KB 確保している通常の CH32V203 のリンクスクリプトではメモリ不足になります。





